<?xml version="1.0" encoding="utf-8" ?>
<!-- Build target specifically for JavaFX files -->
<!-- Usage: ant -f build-javafx-only.xml -Djavafx.sdk.path=C:/javafx-sdk-21/lib compile-javafx -->
<project name="javafx-build" basedir=".">
    
    <property name="javafx.modules" value="javafx.controls,javafx.fxml,javafx.web"/>
    
    <path id="project.class.path">
        <fileset dir="lib" includes="*.jar" excludes="swt*.jar,swtjar.jar,org.eclipse.*.jar"/>
        <fileset dir="../java/lib" includes="*.jar"/>
    </path>
    
    <target name="compile-javafx" description="Compile JavaFX files">
        <fail unless="javafx.sdk.path" message="javafx.sdk.path property must be set. Example: ant -Djavafx.sdk.path=C:/javafx-sdk-21/lib compile-javafx"/>
        
        <mkdir dir="classes"/>
        
        <javac srcdir="src" 
            includes="com/groupunix/drivewireui/MainWinFX.java,com/groupunix/drivewireui/MainWindowController.java,com/groupunix/drivewireui/BrowserController.java,com/groupunix/drivewireui/ChooseServerDialogController.java,com/groupunix/drivewireui/ErrorDialogFX.java,com/groupunix/drivewireui/PlatformUtils.java"
            encoding="windows-1252"
            destdir="classes"
            source="21" target="21" nowarn="true"
            debug="true" debuglevel="lines,vars,source"
            includeantruntime="false">
            <classpath refid="project.class.path"/>
            <compilerarg value="--module-path"/>
            <compilerarg value="${javafx.sdk.path}"/>
            <compilerarg value="--add-modules"/>
            <compilerarg value="${javafx.modules}"/>
        </javac>
        
        <echo message="JavaFX files compiled successfully!"/>
    </target>
    
</project>

